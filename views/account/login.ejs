<% if(title) {%>
    <h1>
        <%= title %>
    </h1>
    <%} %> <%- messages() %>

            <% if (errors) { %>
                <ul class="notice-fail">
                    <% errors.array().forEach(error=> { %>
                        <li>
                            <%= error.msg %>
                        </li>
                        <% }) %>
                </ul>
                <% } %>

                    <form action="/account/login" method="post" id="loginForm">
                        <h2>CSE Motors Login</h2>
                        <label for="username">Email</label>
                        <input type="email" name="account_email" id="username" placeholder="Enter Email" required
                            value="<%= locals.account_email %>" />
                        <label for="password">Password</label>
                        <div class="password-container">
                            <input type="password" name="account_password" id="password" placeholder="Enter Password"
                                required pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
                                . /><span><i class="fa-solid fa-eye"></i>
                                <!-- <i class="fa-solid fa-eye-slash"></i> -->
                            </span>
                        </div>
                        <input type="submit" value="Login" />
                        <p>No Account?<a href="/account/register">&nbsp;Sign-Up</a></p>
                    </form>

                    <script>

                        const showPasswordbtn = document.querySelector(".password-container span > i");
                        const passwordInput = document.querySelector("#password");
                        showPasswordbtn.addEventListener("click", () => {
                            if (passwordInput.type === "password") {
                                passwordInput.type = "text";
                                showPasswordbtn.classList.add("fa-eye-slash");
                            } else {
                                passwordInput.type = "password";
                                showPasswordbtn.classList.remove("fa-eye-slash");
                            }
                        }); 
                    </script>